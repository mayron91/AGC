<section class="catalog_on_catalog">
    <div class="container">
        <div class="catalog_on_catalog_wr">
            <div class="filter">
                <h3>Фильтр</h3>
                <form class="form_radio">
                    <p class="filter_title">Размер</p>
                     <input id="radio_1" name="size" type="radio" value="50Х50"> 
                     <label for="radio_1">50Х50</label>
                     <input id="radio_2" name="size" type="radio" value="50Х60"> 
                     <label for="radio_2">50Х50</label>
                     <input id="radio_3" name="size" type="radio" value="70Х120"> 
                     <label for="radio_3">70Х120</label>
                     <input id="radio_4" name="size" type="radio" value="120Х120"> 
                     <label for="radio_4">120Х120</label>
                   </form> 
                   <form class="select" action="">
                    <p class="filter_title">Цвет</p>
                    <select>
                        <option>Любой</option>
                        <option>Любой</option>
                        <option>Любой</option>
                        <option>Любой</option>
                    </select>
                   </form>
                   <div class="range-slider-container">
                    <p class="filter_title">Цена</p>
                    <div class="range-slider">
                        <div class="slider-track"></div>
                        <div class="thumb thumb-min" data-index="0" draggable="true"></div>
                        <div class="thumb thumb-max" data-index="1" draggable="true"></div>
                         <input type="range" class="slider-input" min="0" max="9999999" value="0">
                         <input type="range" class="slider-input" min="0" max="9999999" value="9999999">
                    </div>
                    <div class="range-values">
                         <div class="range-values-span-wr"><span>от</span><span id="range-min"></span></div> <div class="range-values-span-wr"><span>до</span><span id="range-max">до</span></div>
                    </div>
                </div>
            </div>
            <div class="catalog_place_wr">
                <div class="catalog_plate_cards">
                
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img2.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img3.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img4.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">99 999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                </div>
                <div class="catalog_plate_cards">
                
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img2.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img3.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img4.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">99 999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                </div>
                <div class="catalog_plate_cards">
                
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img2.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img3.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img4.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">99 999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                </div>
                <div class="catalog_plate_cards">
                
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img2.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img3.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img4.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">99 999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                </div>
                <div class="catalog_plate_cards">
                
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img2.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img3.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                    <div class="cat_card">
                        <a href="/"><img src="img/index/card_img4.jpg" alt="">
                        <h3>Коврик Белая полоска 50×60 см</h3></a>
                        <div class="img_price_wr">
                            <span class="price">99 999 р.</span>
                            <a href="/"><img src="img/index/bag_card.svg" alt=""></a>
                        </div>
                    </div>
                </div>
                <div class="pagination_cat">< 1 2 3 4 5></div>
            </div>
        
    



        </div>
    </div>
</section>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const slider = document.querySelector('.range-slider');
    const sliderTrack = document.querySelector('.slider-track');
    const sliderInputs = document.querySelectorAll('.slider-input');
    const thumbs = document.querySelectorAll('.thumb');
    const rangeMinDisplay = document.getElementById('range-min');
    const rangeMaxDisplay = document.getElementById('range-max');

    const maxRangeValue = 9999999;

   const updateTrack = () => {
        const minPercent = (sliderInputs[0].value / maxRangeValue) * 100;
        const maxPercent = (sliderInputs[1].value / maxRangeValue) * 100;
        sliderTrack.style.left = `${minPercent}%`;
        sliderTrack.style.right = `${100 - maxPercent}%`;
   };
    
    const updateValues = () => {
        rangeMinDisplay.textContent = sliderInputs[0].value;
        rangeMaxDisplay.textContent = sliderInputs[1].value;
    };

    const updateThumbPositions = () => {
        thumbs.forEach(thumb => {
            const index = parseInt(thumb.getAttribute('data-index'));
            const percent = (sliderInputs[index].value / maxRangeValue) * 100;
            if (index === 0) {
                thumb.style.left = `${percent}%`;
            } else {
                thumb.style.right = `${100 - percent}%`;
            }
        });
    };
    let activeThumb = null;


    // Инициализация
    updateTrack();
    updateValues();
    updateThumbPositions();

    thumbs.forEach(thumb => {
        thumb.addEventListener('mousedown', (e) => {
            activeThumb = thumb;
        });
    });

    document.addEventListener('mouseup', () => {
        activeThumb = null;
    });

    document.addEventListener('mousemove', (e) => {
        if (!activeThumb) return;

        const sliderRect = slider.getBoundingClientRect();
        const mouseX = e.clientX - sliderRect.left;
        const percent = Math.min(Math.max(0, mouseX / sliderRect.width), 1);
         
        const thumbIndex = parseInt(activeThumb.getAttribute('data-index'));
        const otherThumbIndex = thumbIndex === 0 ? 1 : 0;


        let newValue = Math.round(percent * maxRangeValue);


        if (thumbIndex === 0 && newValue > parseInt(sliderInputs[otherThumbIndex].value) ) {
           newValue = parseInt(sliderInputs[otherThumbIndex].value);
        } else if (thumbIndex === 1 && newValue < parseInt(sliderInputs[otherThumbIndex].value)) {
             newValue =  parseInt(sliderInputs[otherThumbIndex].value);
        }

        sliderInputs[thumbIndex].value = newValue;

        updateThumbPositions();
        updateTrack();
        updateValues();
    });

    // Обновление слайдера при изменении input range (на всякий случай)
    sliderInputs.forEach(input => {
        input.addEventListener('input', () => {
            updateTrack();
            updateValues();
            updateThumbPositions();
        });
    });
});


</script>